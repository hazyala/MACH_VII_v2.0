# 🧠 State (상태 - 몸과 마음의 현황판)

## 📖 개요 (Overview)
이 폴더는 로봇의 **'건강 기록부'**이자 **'감정 일기장'**입니다. 
로봇이 지금 어떤 기분인지, 배터리는 얼마나 남았는지, 방금 무엇을 보았는지 등 **모든 살아있는 정보**가 여기에 모입니다.
다른 모든 시스템 부품(레이어)들은 이 폴더의 정보를 읽어서 현재 상황을 파악합니다.

---

## 📂 파일 구조 및 상세 설명 (Structure & Files)

### 1. `system_state.py` (시스템 상태)
- **역할**: 로봇의 **전신 건강 검진표**입니다.
- **내용**:
    - **Perception Data (인지 데이터)**: 눈으로 본 물체들의 목록 (예: "앞에 오리가 있다, 좌표는 X:10, Y:20").
    - **Robot Status (로봇 상태)**: 현재 팔이 움직이고 있는지, 어떤 모드에 있는지 저장합니다.
    - **Intent (의도)**: 뇌가 방금 내린 결정이 무엇인지 ("집어라", "멈춰라") 기록합니다.
- **특징**: 이 정보는 **'싱글톤(Singleton)'**이라고 불리는 방식을 사용하여, 프로그램 어디서든 똑같은 정보를 실시간으로 공유받을 수 있습니다.

### 2. `emotion_state.py` (감정 상태)
- **역할**: 로봇의 **기분 상태**를 숫자로 정의해둔 규격서입니다.
- **내용**:
    - 사람의 감정은 복잡하지만, 여기서는 컴퓨터가 이해하기 쉽게 **숫자 벡터**로 표현합니다.
    - **PAD 모델**: 감정을 3가지 차원으로 나눕니다.
        1. **P**leasure (즐거움): 기분이 좋은가? 나쁜가?
        2. **A**rousal (흥분): 차분한가? 흥분했는가?
        3. **D**ominance (지배): 자신감이 넘치나? 위축되었나?
    - 이 3가지 숫자의 조합으로 '기쁨', '분노', '슬픔', '평온' 등의 감정을 만들어냅니다.

---

## ⚙️ 작동 원리 (Logic Flow)

1. **감각 수집**: `Sensor` 레이어가 카메라로 물체를 봅니다.
2. **기록**: 본 정보가 `system_state.py`의 `perception_data`에 기록됩니다.
3. **공유**: `Brain`(뇌)과 `Expression`(표정)이 이 상태 기록부를 '조회'합니다.
    - 뇌: "앞에 오리가 있네(State 조회)? 잡아야겠다(판단)."
    - 표정: "지금 기분이 0.8(State 조회)? 웃는 표정을 지어야겠다."
4. **업데이트**: 행동의 결과로 기분이 바뀌면 다시 `emotion_state`가 업데이트됩니다.

---

## 🔗 상속 및 관계 (Relationships)
- **참조됨(Referenced By)**: 
    - `Sensor` (정보를 씀/Write)
    - `Brain`, `Strategy`, `Expression` (정보를 읽음/Read)
- **핵심 철학**: 이 폴더는 **'데이터'만 담고 있고, '로직(판단)'은 담지 않습니다.** (순수한 상태 저장소)
